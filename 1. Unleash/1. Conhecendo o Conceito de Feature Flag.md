# Resumo da Aula: Introdução às Feature Flags

## Introdução
A aula aborda uma introdução ao conceito de **Feature Flags**, explicando seu propósito e funcionamento no desenvolvimento de software. O professor apresenta o módulo, que será dividido em três partes: uma introdução teórica, uma exploração prática com um vendor específico e o uso de uma abstração (similar ao OpenTelemetry) para desacoplar a aplicação do vendor. Além disso, a aula inclui um bônus sobre estratégias de deploy, como **Canary Deployment** e **Blue-Green Deployment**, com exemplos práticos em um cluster Kubernetes.

## Conteúdo Principal

### O que são Feature Flags?
- **Definição**: Feature Flags são mecanismos que permitem controlar a exibição ou ativação de funcionalidades em uma aplicação, decidindo se uma feature será exibida ou não com base em uma "flag".
- **Objetivo**: Facilitar testes, lançamentos graduais e controle de funcionalidades sem a necessidade de alterar o código ou realizar novos deploys.
- **Exemplo prático**: O professor ilustra com uma tela de login no front-end, onde duas versões (Tela 1 e Tela 2) são testadas. A Tela 1 usa "e-mail" e o botão "Logar", enquanto a Tela 2 usa "nome de usuário" e o botão "Entrar". Isso permite realizar um teste A/B para avaliar qual versão tem melhor conversão.

### Teste A/B e Controle de Sessão
- **Teste A/B**: Consiste em direcionar usuários para diferentes fluxos (A ou B) para comparar o desempenho de cada versão. Por exemplo, alguns usuários veem a Tela 1, outros a Tela 2.
- **Stick Session**: É crucial garantir que o usuário permaneça no mesmo fluxo (A ou B) durante a sessão, mesmo ao recarregar a página, para evitar experiências inconsistentes.
- **Controle de métricas**: Feature Flags permitem monitorar quantos usuários acessaram cada fluxo e quantos realizaram ações específicas, como clicar em um botão.

### Benefícios das Feature Flags
- **Flexibilidade no lançamento**: Permitem liberar uma funcionalidade para grupos específicos (por e-mail, faixa de IP ou localidade) ou de forma gradual, aumentando a segurança.
- **Segurança**: Em caso de problemas, a flag pode ser desativada sem necessidade de alterar o código ou realizar um novo deploy.
- **Aplicação no back-end**: A lógica de Feature Flags também pode ser aplicada no back-end, controlando, por exemplo, se o login será processado com e-mail ou nome de usuário.

### Boas Práticas e Cuidados
- **Tempo de vida das Feature Flags**: Flags devem ser temporárias. Após o teste (ex.: uma semana para um teste A/B), a validação deve ser removida do código para evitar acumular lógica desnecessária.
- **Manutenção do código**: Feature Flags não removidas podem gerar um código excessivamente modularizado, com muitos condicionais ("ifs"), dificultando a manutenção.
- **Escalabilidade**: Controlar fluxos manualmente (ex.: via variáveis de ambiente) não é escalável e pode gerar problemas de organização e rastreamento.

### Bônus: Estratégias de Deploy
- A aula menciona um bônus sobre **Canary Deployment** e **Blue-Green Deployment**, estratégias de lançamento que se integram ao uso de Feature Flags.
- Um cluster Kubernetes será utilizado para demonstrar essas estratégias, conectando-as ao controle de Features.

## Conclusão
A aula introduz o conceito de Feature Flags como uma ferramenta poderosa para gerenciar o lançamento e teste de funcionalidades em aplicações, com destaque para testes A/B e controle de sessões. O professor enfatiza a importância de usar Feature Flags de forma temporária e organizada para manter a saúde do código. A aula estabelece a base teórica para o módulo, que avançará para práticas com um vendor específico e estratégias de deploy, como Canary e Blue-Green, proporcionando uma visão integrada entre Feature Flags e lançamentos controlados.